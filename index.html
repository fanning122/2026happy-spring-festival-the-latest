<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMG Happy Spring Festival</title>
    <style>
        /* æ‰€æœ‰ç°æœ‰CSSå®Œå…¨ä¿æŒä¸å˜ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            overflow-x: hidden;
        }
        
        html {
            overflow-y: auto;
            overflow-x: hidden;
        }
        
        body {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            font-family: 'Arial Black', 'Arial', sans-serif;
            overflow: auto;
            padding: 20px;
            position: relative;
            padding-top: 0;
        }
        
        .media-player {
            position: fixed;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 580px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 15px;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }
        
        .control-btn {
            background: linear-gradient(135deg, #ffd700, #daa520);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }
        
        .control-btn:hover {
            transform: scale(1.1);
            background: linear-gradient(135deg, #ffec8b, #ffd700);
        }
        
        .control-btn.active {
            background: linear-gradient(135deg, #ff4500, #ff6347);
            color: white;
        }
        
        .progress-container {
            flex: 1;
            margin: 0 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .time-display {
            display: flex;
            justify-content: space-between;
            width: 100%;
            color: #ffd700;
            font-size: 12px;
            margin-bottom: 5px;
            font-family: monospace;
        }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255, 215, 0, 0.3);
            border-radius: 3px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #ffd700, #ff4500);
            border-radius: 3px;
            width: 0%;
            transition: width 0.1s linear;
        }
        
        .progress-bar:hover .progress {
            background: linear-gradient(90deg, #ffec8b, #ff6347);
        }
        
        .hidden-media {
            display: none;
            position: absolute;
            top: -9999px;
            left: -9999px;
        }
        
        @media (max-width: 768px) {
            .media-player {
                width: 90%;
                max-width: 580px;
            }
        }
        
        @media (max-width: 480px) {
            .media-player {
                width: 95%;
                height: 45px;
                padding: 0 10px;
            }
            
            .control-btn {
                width: 35px;
                height: 35px;
                font-size: 16px;
            }
            
            .time-display {
                font-size: 10px;
            }
        }
        
        .container {
            perspective: 1000px;
            text-align: center;
            margin-bottom: 0px;
        }
        
        .year-3d {
            display: inline-block;
            font-size: 180px;
            font-weight: 900;
            color: #ffd700;
            text-shadow: 
                5px 5px 0 rgba(0, 0, 0, 0.3),
                10px 10px 20px rgba(0, 0, 0, 0.5);
            transform-style: preserve-3d;
            animation: float 6s ease-in-out infinite;
            letter-spacing: 15px;
        }
        
        .year-3d span {
            display: inline-block;
            position: relative;
            text-transform: uppercase;
            transform-style: preserve-3d;
        }
        
        .year-3d span::before,
        .year-3d span::after {
            content: attr(data-digit);
            position: absolute;
            top: 0;
            left: 0;
            transform-origin: 0 0;
        }
        
        .year-3d span::before {
            color: rgba(255, 215, 0, 0.5);
            transform: translateZ(-30px);
            z-index: -1;
        }
        
        .year-3d span::after {
            color: rgba(255, 140, 0, 0.7);
            transform: translateZ(-15px);
            z-index: -2;
        }
        
        .neon-border {
            position: relative;
            padding: 20px;
            border-radius: 20px;
        }
        
        .metal-effect {
            background: linear-gradient(
                135deg,
                #ffd700 0%,
                #ffec8b 25%,
                #ffd700 50%,
                #daa520 75%,
                #b8860b 100%
            );
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            background-size: 200% auto;
            animation: shine 3s linear infinite;
        }
        
        @keyframes float {
            0%, 100% {
                transform: rotateX(15deg) rotateY(0deg) translateY(0);
            }
            50% {
                transform: rotateX(15deg) rotateY(10deg) translateY(-20px);
            }
        }
        
        @keyframes shine {
            to {
                background-position: 200% center;
            }
        }
        
        @media (max-width: 768px) {
            .year-3d {
                font-size: 120px;
                letter-spacing: 3px;
            }
        }
        
        @media (max-width: 480px) {
            .year-3d {
                font-size: 80px;
                letter-spacing: 0px;
            }
        }
        
        .glow {
            animation: pulse 4s ease-in-out infinite;
            z-index: -1;
        }
        
        @keyframes pulse {
            0%, 100% {
                opacity: 0.3;
            }
            50% {
                opacity: 0.7;
            }
        }
        
        .logo {
            text-align: center;
            margin-top: -24px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .logo img {
            max-width: 580px;
            width: 100%;
            height: auto;
            border-radius: 0px;
            transition: transform 0.3s ease;
        }
        
        .logo img:hover {
            transform: scale(1.02);
        }
        
        @media (max-width: 768px) {
            .logo img {
                max-width: 450px;
            }
        }
        
        @media (max-width: 480px) {
            .logo img {
                max-width: 380px;
            }
        }
        
        .background {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: -1;
            width: 100%;
            text-align: center;
            pointer-events: none;
        }
        
        .background img {
            max-width: 680px;
            width: 90%;
            height: auto;
            opacity: 1;
            filter: none;
        }
        
        .background {
            top: 380px;
        }
        
        @media (max-width: 768px) {
            .background {margin-top: auto;}
            .background img {
                max-width: 450px;
                opacity: 1;
            }
        }
        
        @media (max-width: 480px) {
            .background {top: 160px;}
            .logo {
                margin-top: -90px;
            }
            .background img {
                max-width: 350px;
                opacity: 1;
            }
        }
        
        .main-subtitle {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 100px;
        }
        
        .subtitle {
            color: red;
            font-size: 50px;
            opacity: 0.88;
            position: relative;
            transform-origin: center top;
            z-index: 1;
            animation: 
                subtitleEnter 2s ease-out 1.5s both,
                subtitleLoop 5s ease-in-out 3.5s infinite;
        }
        
        @keyframes subtitleEnter {
            0% {
                transform: translateY(100px) scale(1);
                opacity: 0;
            }
            100% {
                transform: translateY(0) scale(1);
                opacity: 0.88;
            }
        }
        
        @keyframes subtitleLoop {
            0% {
                transform: scale(1);
                opacity: 0.88;
            }
            60% {
                transform: scale(3);
                opacity: 0.88;
            }
            60%, 79.999% {
                transform: scale(3.2);
                opacity: 0;
            }
            80% {
                transform: scale(1);
                opacity: 0;
            }
            90% {
                transform: scale(1);
                opacity: 0.44;
            }
            100% {
                transform: scale(1);
                opacity: 0.88;
            }
        }
        
        @media (max-width: 480px) {
            .subtitle {
                top: -70px;
                font-size: 29px;
            }
        }
        
        .main-content {
            position: absolute;
            top: -2vh;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 1;
        }
        
        @media (max-width: 768px) {
            .main-content {
                top: 30vh;
            }
        }
        
        @media (max-width: 480px) {
            .main-content {
                top: 2vh;
            }
        }
        
        .image-window {
            margin-top: -80px;
            width: 100vw;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden;
            background: transparent;
            gap: 0;
            position: relative;
            z-index: -2;
            height: 500px;
            contain: strict;
            isolation: isolate;
        }
        
        .image-window .original-img {
            width: 100%;
            height: auto;
            display: block;
            object-fit: contain;
            opacity: 0;
            position: absolute;
            z-index: -1;
        }
        
        /* ===== æ–°å¢ï¼šbackground-container æ ·å¼ ===== */
        .background-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* åœ¨ teleprompter-wrapper ä¸‹é¢ */
            overflow: hidden;
        }
        
        /* èƒŒæ™¯å›¾ç‰‡çš„åŸºæœ¬æ ·å¼ */
        .background-container img {
            display: block;
            position: absolute;
        }
        
        .teleprompter-wrapper {
            position: relative;
            width: 430px;
            height: 500px;
            overflow-y: auto;
            overflow-x: hidden;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
            background: #000;
            cursor: pointer;
            margin: 0 auto;
            opacity: 0;
            transition: opacity 0.5s ease;
            -webkit-overflow-scrolling: touch;
            contain: strict;
            will-change: transform;
            transform: translateZ(0);
            z-index: 1; /* ç¡®ä¿åœ¨ background-container ä¸Šé¢ */
        }
        
        .teleprompter-wrapper.loaded {
            opacity: 1;
        }
        
        .teleprompter-inner {
            position: relative;
            width: 100%;
        }
        
        .teleprompter-inner img {
            width: 100%;
            height: auto;
            display: block;
            pointer-events: none;
            user-select: none;
            contain: content;
            backface-visibility: hidden;
        }
        
        /* æ·»åŠ åº•éƒ¨å ä½å…ƒç´ æ ·å¼ */
        .bottom-spacer {
            background: transparent;
            pointer-events: none;
            flex-shrink: 0;
        }
        
        @media (max-width: 768px) {
            .image-window {
                max-width: 100vw;
                margin-left: calc(-50vw + 50%);
            }
        }
        
        @media (max-width: 480px) {
            .image-window {
                margin-top: -60px;
                width: 100vw;
                margin-left: calc(-50vw + 50%);
                height: 500px;
            }
            
            .teleprompter-wrapper {
                width: 90vw;
                max-width: 430px;
                height: 500px;
            }
            
            .background-container {
                width: 100%;
                height: 100%;
            }
        }
        
        @media (min-width: 769px) {
            .image-window img {
                max-width: 580px;
            }
            
            .teleprompter-wrapper {
                max-width: 430px;
            }
        }
        
        /* ===== æ–°å¢ï¼šTeleprompteræ§åˆ¶æŒ‰é’®æ ·å¼ ===== */
        .teleprompter-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 20;
            pointer-events: auto;
        }
        
        .teleprompter-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.9), rgba(218, 165, 32, 0.9));
            border: 2px solid #ffd700;
            color: #000;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 
                0 4px 15px rgba(0, 0, 0, 0.5),
                0 0 10px rgba(255, 215, 0, 0.5);
            backdrop-filter: blur(5px);
            pointer-events: auto;
        }
        
        .teleprompter-btn:hover {
            transform: scale(1.1);
            background: linear-gradient(135deg, rgba(255, 236, 139, 0.95), rgba(255, 215, 0, 0.95));
            box-shadow: 
                0 6px 20px rgba(0, 0, 0, 0.6),
                0 0 15px rgba(255, 215, 0, 0.8);
        }
        
        .teleprompter-btn:active {
            transform: scale(0.95);
        }
        
        .teleprompter-btn.active {
            background: linear-gradient(135deg, rgba(255, 69, 0, 0.9), rgba(255, 99, 71, 0.9));
            color: white;
            border-color: #ff4500;
        }
        
        /* é€‚é…å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .teleprompter-controls {
                bottom: 15px;
                gap: 12px;
            }
            
            .teleprompter-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }
        }
        
        @media (max-width: 480px) {
            .teleprompter-controls {
                bottom: 10px;
                gap: 10px;
            }
            
            .teleprompter-btn {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }
        }
        
        /* ç¡®ä¿æŒ‰é’®ä¸ä¼šå¹²æ‰°teleprompter-wrapperçš„ç‚¹å‡»äº‹ä»¶ */
        .teleprompter-wrapper {
            pointer-events: auto;
        }
    </style>
</head>
<body>
    <!-- åª’ä½“æ’­æ”¾å™¨æ§åˆ¶æ  -->
    <div class="media-player">
        <button class="control-btn" id="playPauseBtn">â–¶</button>
        
        <div class="progress-container">
            <div class="time-display">
                <span id="currentTime">0:00</span>
                <span id="duration">0:00</span>
            </div>
            <div class="progress-bar" id="progressBar">
                <div class="progress" id="progress"></div>
            </div>
        </div>
        
        <button class="control-btn" id="loopBtn">ğŸ”</button>
    </div>
    
    <!-- éšè—çš„åª’ä½“å…ƒç´  -->
    <div class="hidden-media">
        <audio id="mediaPlayer" controls>
            <source src="congratulationprosperous.mp4" type="audio/mpeg">
            <source src="media/audio.ogg" type="audio/ogg">
            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾
        </audio>
    </div>

    <!-- ä¸»å†…å®¹åŒ…è£…å™¨ -->
    <div class="main-content">
        <!-- Backgroundå®¹å™¨ -->
        <div class="background">
            <img src="background001.png" alt="èƒŒæ™¯å›¾æ¡ˆ">
        </div>
        
        <!-- Containerå®¹å™¨ -->
        <div class="container">
            <div class="neon-border">
                <div class="glow"></div>
                <div class="year-3d">
                    <span class="metal-effect" data-digit="2">2</span>
                    <span class="metal-effect" data-digit="0">0</span>
                    <span class="metal-effect" data-digit="2">2</span>
                    <span class="metal-effect" data-digit="6">6</span>
                </div>
            </div>
        </div>

        <!-- Main Subtitleå®¹å™¨ -->
        <div class="main-subtitle">
            <div class="subtitle">Happy Spring Festival</div>
        </div>

        <!-- Logoå®¹å™¨ -->
        <div class="logo">
            <img src="MyCardEnglish.png" alt="CMG Logo">
        </div>
        
        <!-- å›¾ç‰‡çª—å£å®¹å™¨ -->
        <div class="image-window">
            <!-- æ–°å¢ï¼šèƒŒæ™¯å®¹å™¨ -->
            <div class="background-container" id="backgroundContainer">
                <img src="cmgapmap.jpg" style="width: 100%; height: 100%; object-fit: cover;">
            </div>
            
            <!-- åŸå§‹å›¾ç‰‡ï¼ˆä»…ç”¨äºåŠ è½½åŠ¨ç”»ï¼‰ -->
            <img src="Socialmap003.jpg" alt="å±•ç¤ºå›¾ç‰‡1" class="original-img">
            
            <!-- ===== æ–°å¢ï¼šTeleprompteræ§åˆ¶æŒ‰é’®å®¹å™¨ ===== -->
            <div class="teleprompter-controls" id="teleprompterControls">
                <button class="teleprompter-btn" id="scrollToggleBtn" title="æ’­æ”¾/æš‚åœæ»šåŠ¨">
                    â–¶
                </button>
                <button class="teleprompter-btn" id="importImageBtn" title="å¯¼å…¥æ–°å›¾ç‰‡">
                    ğŸ“¤
                </button>
            </div>
            
            <!-- Teleprompteræ»šåŠ¨å®¹å™¨ -->
            <div class="teleprompter-wrapper loading">
                <!-- å†…éƒ¨å®¹å™¨åŒ…å«å•å¼ å›¾ç‰‡ -->
                <div class="teleprompter-inner">
                    <img src="Socialmap003.jpg" alt="å±•ç¤ºå›¾ç‰‡" class="teleprompter-img" id="mainImage">
                    <!-- åº•éƒ¨å ä½å…ƒç´ å°†ç”±JavaScriptåŠ¨æ€æ·»åŠ  -->
                </div>
                
                <!-- éšè—çš„æ–‡ä»¶è¾“å…¥ -->
                <input type="file" 
                       id="imageUploadInput" 
                       accept="image/*" 
                       style="display: none;">
                
                <!-- è¿›åº¦æ¡å®¹å™¨ï¼ˆæ— æ ·å¼ï¼‰ -->
                <div class="teleprompter-progress"></div>
            </div>
        </div>
    </div>

    <script>
        // ===== åª’ä½“æ’­æ”¾å™¨åŠŸèƒ½ï¼ˆå®Œå…¨ä¸å˜ï¼‰ =====
        const mediaPlayer = document.getElementById('mediaPlayer');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const loopBtn = document.getElementById('loopBtn');
        const progressBar = document.getElementById('progressBar');
        const progress = document.getElementById('progress');
        const currentTimeEl = document.getElementById('currentTime');
        const durationEl = document.getElementById('duration');
        
        let isPlaying = false;
        let isLooping = false;
        
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }
        
        function updateProgress() {
            if (!mediaPlayer.duration) return;
            
            const percent = (mediaPlayer.currentTime / mediaPlayer.duration) * 100;
            progress.style.width = `${percent}%`;
            
            currentTimeEl.textContent = formatTime(mediaPlayer.currentTime);
            durationEl.textContent = formatTime(mediaPlayer.duration);
        }
        
        function setProgress(e) {
            const width = progressBar.clientWidth;
            const clickX = e.offsetX;
            const duration = mediaPlayer.duration;
            
            mediaPlayer.currentTime = (clickX / width) * duration;
        }
        
        function togglePlayPause() {
            if (isPlaying) {
                mediaPlayer.pause();
                playPauseBtn.textContent = 'â–¶';
            } else {
                mediaPlayer.play().catch(e => {
                    console.log('æ’­æ”¾è¢«é˜»æ­¢:', e);
                });
                playPauseBtn.textContent = 'â¸';
            }
            isPlaying = !isPlaying;
        }
        
        function toggleLoop() {
            isLooping = !isLooping;
            mediaPlayer.loop = isLooping;
            loopBtn.classList.toggle('active', isLooping);
        }
        
        mediaPlayer.addEventListener('timeupdate', updateProgress);
        mediaPlayer.addEventListener('loadedmetadata', () => {
            durationEl.textContent = formatTime(mediaPlayer.duration);
            updateProgress();
        });
        mediaPlayer.addEventListener('ended', () => {
            if (!isLooping) {
                isPlaying = false;
                playPauseBtn.textContent = 'â–¶';
            }
        });
        
        playPauseBtn.addEventListener('click', togglePlayPause);
        loopBtn.addEventListener('click', toggleLoop);
        progressBar.addEventListener('click', setProgress);
        
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                togglePlayPause();
            }
        });
        
        // ===== æ–°å¢ï¼šèƒŒæ™¯å›¾ç‰‡ç®¡ç†å‡½æ•° =====
        // é€šè¿‡ä»£ç è¡Œè°ƒç”¨è¿™äº›å‡½æ•°æ¥è®¾ç½®èƒŒæ™¯å›¾ç‰‡
        
        /**
         * è®¾ç½®èƒŒæ™¯å›¾ç‰‡
         * @param {string} imageUrl - èƒŒæ™¯å›¾ç‰‡URL
         * @param {Object} styles - æ ·å¼å¯¹è±¡ï¼ˆå¯é€‰ï¼‰
         * @param {string} styles.width - å®½åº¦ï¼ˆå¦‚ '100%', '500px'ï¼‰
         * @param {string} styles.height - é«˜åº¦ï¼ˆå¦‚ '100%', '300px'ï¼‰
         * @param {string} styles.objectFit - å¡«å……æ–¹å¼ï¼ˆå¦‚ 'cover', 'contain', 'fill'ï¼‰
         * @param {string} styles.objectPosition - ä½ç½®ï¼ˆå¦‚ 'center', 'top left'ï¼‰
         * @param {string} styles.opacity - é€æ˜åº¦ï¼ˆå¦‚ '0.5', '1'ï¼‰
         * @param {string} styles.filter - æ»¤é•œæ•ˆæœï¼ˆå¦‚ 'blur(5px)', 'brightness(0.8)'ï¼‰
         * @param {string} styles.transform - å˜æ¢ï¼ˆå¦‚ 'scale(1.2)', 'rotate(10deg)'ï¼‰
         */
        function setBackgroundImage(imageUrl, styles = {}) {
            const bgContainer = document.getElementById('backgroundContainer');
            if (!bgContainer) {
                console.error('æ‰¾ä¸åˆ°background-containerå…ƒç´ ');
                return;
            }
            
            // åˆ›å»ºå›¾ç‰‡å…ƒç´ 
            const bgImg = document.createElement('img');
            bgImg.src = imageUrl;
            bgImg.alt = 'èƒŒæ™¯å›¾ç‰‡';
            
            // åº”ç”¨æ ·å¼
            Object.keys(styles).forEach(styleKey => {
                if (styles[styleKey] !== undefined) {
                    bgImg.style[styleKey] = styles[styleKey];
                }
            });
            
            // æ¸…ç©ºå®¹å™¨å¹¶æ·»åŠ æ–°å›¾ç‰‡
            bgContainer.innerHTML = '';
            bgContainer.appendChild(bgImg);
            
            console.log('âœ… èƒŒæ™¯å›¾ç‰‡å·²è®¾ç½®:', imageUrl, styles);
        }
        
        /**
         * ç§»é™¤èƒŒæ™¯å›¾ç‰‡
         */
        function removeBackgroundImage() {
            const bgContainer = document.getElementById('backgroundContainer');
            if (bgContainer) {
                bgContainer.innerHTML = '';
                console.log('âœ… èƒŒæ™¯å›¾ç‰‡å·²ç§»é™¤');
            }
        }
        
        /**
         * æ›´æ–°èƒŒæ™¯å›¾ç‰‡æ ·å¼
         * @param {Object} styles - è¦æ›´æ–°çš„æ ·å¼å¯¹è±¡
         */
        function updateBackgroundStyles(styles = {}) {
            const bgContainer = document.getElementById('backgroundContainer');
            if (!bgContainer) return;
            
            const bgImg = bgContainer.querySelector('img');
            if (!bgImg) {
                console.warn('æ²¡æœ‰èƒŒæ™¯å›¾ç‰‡å¯æ›´æ–°');
                return;
            }
            
            // æ›´æ–°æ ·å¼
            Object.keys(styles).forEach(styleKey => {
                if (styles[styleKey] !== undefined) {
                    bgImg.style[styleKey] = styles[styleKey];
                }
            });
            
            console.log('âœ… èƒŒæ™¯å›¾ç‰‡æ ·å¼å·²æ›´æ–°:', styles);
        }
        
        // ===== ç¤ºä¾‹ï¼šåœ¨åå°é€šè¿‡ä»£ç è¡Œè®¾ç½®èƒŒæ™¯å›¾ç‰‡ =====
        // å–æ¶ˆæ³¨é‡Šå¹¶ä¿®æ”¹ä»¥ä¸‹ä»£ç æ¥è®¾ç½®èƒŒæ™¯å›¾ç‰‡
        
        /*
        // ç¤ºä¾‹1ï¼šè®¾ç½®å…¨å±è¦†ç›–çš„èƒŒæ™¯å›¾ç‰‡
        setBackgroundImage('your-background-image.jpg', {
            width: '100%',
            height: '100%',
            objectFit: 'cover',
            objectPosition: 'center',
            opacity: '0.7'
        });
        
        // ç¤ºä¾‹2ï¼šæ›´æ–°èƒŒæ™¯å›¾ç‰‡æ ·å¼
        updateBackgroundStyles({
            opacity: '0.5',
            filter: 'blur(2px)'
        });
        
        // ç¤ºä¾‹3ï¼šç§»é™¤èƒŒæ™¯å›¾ç‰‡
        // removeBackgroundImage();
        */
        
        // ===== é‡æ„åçš„TeleprompterScrollerç±»ï¼ˆç§»é™¤æ‰€æœ‰è¿›åº¦åŠŸèƒ½ï¼‰ =====
        class TeleprompterScroller {
            constructor(wrapper, options = {}) {
                this.wrapper = wrapper;
                this.inner = wrapper.querySelector('.teleprompter-inner');
                this.mainImage = wrapper.querySelector('.teleprompter-img');
                
                // é…ç½®å‚æ•°
                this.options = {
                    scrollSpeed: 1.5,
                    autoPlay: false,
                    maxQueueLength: 10,
                    ...options
                };
                
                // çŠ¶æ€å˜é‡
                this.isPlaying = this.options.autoPlay;
                this.hasStarted = false;
                this.isUserScrolling = false;
                this.scrollAnimationId = null;
                
                // å›¾ç‰‡é˜Ÿåˆ—ï¼ˆæ–°å¢ï¼‰
                this.imageQueue = [];
                this.currentImageIndex = 0;
                
                // å°ºå¯¸ä¿¡æ¯
                this.imageHeight = 0;
                this.containerHeight = 0;
                this.totalScrollableHeight = 0; // æ€»å¯æ»šåŠ¨è·ç¦»
                
                // åˆå§‹åŒ–
                this.init();
            }
            
            async init() {
                console.log('ğŸš€ TeleprompterScrolleråˆå§‹åŒ–ï¼ˆæ— è¿›åº¦æ¡ç‰ˆï¼‰');
                
                // ç­‰å¾…ä¸»å›¾ç‰‡åŠ è½½
                await this.waitForImageLoad(this.mainImage);
                
                // åˆå§‹åŒ–å›¾ç‰‡é˜Ÿåˆ—
                this.initializeImageQueue();
                
                // è®¡ç®—å°ºå¯¸
                this.calculateDimensions();
                
                // æ·»åŠ åº•éƒ¨å ä½ - å…³é”®ä¿®æ”¹ï¼šå…è®¸å›¾ç‰‡å®Œå…¨æ»šå‡º
                this.addBottomSpacer();
                
                // ç»‘å®šäº‹ä»¶
                this.bindEvents();
                
                // æ˜¾ç¤ºå®¹å™¨
                this.wrapper.classList.remove('loading');
                this.wrapper.classList.add('loaded');
                
                console.log('âœ… TeleprompterScrolleråˆå§‹åŒ–å®Œæˆ', {
                    å½“å‰å›¾ç‰‡é«˜åº¦: `${this.imageHeight}px`,
                    å®¹å™¨é«˜åº¦: `${this.containerHeight}px`,
                    å¯æ»šåŠ¨æ€»è·ç¦»: `${this.totalScrollableHeight}px`,
                    é˜Ÿåˆ—é•¿åº¦: this.imageQueue.length
                });
            }
            
            // æ·»åŠ åº•éƒ¨å ä½å…ƒç´ 
            addBottomSpacer() {
                // åˆ›å»ºå ä½å…ƒç´ ï¼Œé«˜åº¦ç­‰äºå®¹å™¨é«˜åº¦
                const spacer = document.createElement('div');
                spacer.className = 'bottom-spacer';
                spacer.style.height = this.containerHeight + 'px';
                spacer.style.width = '100%';
                spacer.style.background = 'transparent';
                spacer.style.pointerEvents = 'none';
                spacer.style.flexShrink = '0';
                
                // æ’å…¥åˆ°å›¾ç‰‡åé¢
                if (this.mainImage && this.mainImage.parentNode) {
                    this.mainImage.parentNode.appendChild(spacer);
                    console.log(`ğŸ“ æ·»åŠ åº•éƒ¨å ä½: ${this.containerHeight}px`);
                }
            }
            
            // ç®€åŒ–çš„å›¾ç‰‡åŠ è½½ç­‰å¾…
            waitForImageLoad(img) {
                return new Promise((resolve) => {
                    if (img.complete && img.naturalHeight > 100) {
                        console.log(`ğŸ“¸ å›¾ç‰‡å·²åŠ è½½: ${img.naturalHeight}px`);
                        setTimeout(resolve, 50);
                    } else {
                        img.onload = () => {
                            console.log(`ğŸ“¸ å›¾ç‰‡åŠ è½½å®Œæˆ: ${img.naturalHeight}px`);
                            setTimeout(resolve, 50);
                        };
                        img.onerror = () => {
                            console.warn('å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤é«˜åº¦');
                            setTimeout(resolve, 50);
                        };
                    }
                    
                    setTimeout(resolve, 3000);
                });
            }
            
            // åˆå§‹åŒ–å›¾ç‰‡é˜Ÿåˆ—ï¼ˆä»ç°æœ‰å›¾ç‰‡å¼€å§‹ï¼‰
            initializeImageQueue() {
                if (this.mainImage && this.mainImage.src) {
                    this.imageQueue.push({
                        element: this.mainImage,
                        src: this.mainImage.src,
                        height: this.mainImage.naturalHeight || this.mainImage.clientHeight
                    });
                    console.log('ğŸ“‹ åˆå§‹åŒ–å›¾ç‰‡é˜Ÿåˆ—ï¼Œæ·»åŠ ç¬¬ä¸€å¼ å›¾ç‰‡');
                }
            }
            
            // å°ºå¯¸è®¡ç®—
            calculateDimensions() {
                // ä½¿ç”¨ä¸»å›¾ç‰‡é«˜åº¦
                const img = this.mainImage;
                this.imageHeight = img.naturalHeight > 100 ? 
                    img.naturalHeight : img.clientHeight;
                
                // å®¹å™¨é«˜åº¦
                this.containerHeight = this.wrapper.clientHeight;
                
                // æ€»å¯æ»šåŠ¨è·ç¦» = å›¾ç‰‡é«˜åº¦ + å®¹å™¨é«˜åº¦ï¼ˆç”¨äºå®Œå…¨æ»šå‡ºï¼‰
                this.totalScrollableHeight = this.imageHeight + this.containerHeight;
                
                console.log('ğŸ“ å°ºå¯¸è®¡ç®—:', {
                    å›¾ç‰‡é«˜åº¦: this.imageHeight,
                    å®¹å™¨é«˜åº¦: this.containerHeight,
                    å¯æ»šåŠ¨æ€»è·ç¦»: this.totalScrollableHeight,
                    è¯´æ˜: 'å›¾ç‰‡å®Œå…¨æ»šå‡ºéœ€è¦çš„æ»šåŠ¨è·ç¦»'
                });
            }
            
            // æ»šåŠ¨åŠ¨ç”» - å›¾ç‰‡å®Œå…¨æ»šå‡ºæ—¶åœæ­¢
            animateScroll() {
                if (this.isPlaying) {
                    // å‘ä¸Šæ»šåŠ¨
                    let scrollTop = this.wrapper.scrollTop;
                    
                    // æœ€å¤§æ»šåŠ¨è·ç¦» = å›¾ç‰‡é«˜åº¦ + å®¹å™¨é«˜åº¦
                    const maxScroll = this.totalScrollableHeight;
                    
                    // å¦‚æœè¿˜æ²¡æ»šåŠ¨åˆ°å›¾ç‰‡å®Œå…¨æ¶ˆå¤±ï¼Œç»§ç»­æ»šåŠ¨
                    if (scrollTop < maxScroll) {
                        scrollTop += this.options.scrollSpeed;
                        this.wrapper.scrollTop = scrollTop;
                        
                        // ç»§ç»­åŠ¨ç”»
                        this.scrollAnimationId = requestAnimationFrame(() => this.animateScroll());
                    } else {
                        // æ»šåŠ¨åˆ°å›¾ç‰‡å®Œå…¨æ¶ˆå¤±ï¼Œæš‚åœ
                        console.log('ğŸ å›¾ç‰‡å®Œå…¨æ»šå‡ºè§†é‡ï¼Œè‡ªåŠ¨æš‚åœ');
                        this.pause();
                        
                        // æ›´æ–°æŒ‰é’®çŠ¶æ€
                        const playBtn = document.getElementById('scrollToggleBtn');
                        if (playBtn) {
                            playBtn.classList.remove('active');
                            playBtn.innerHTML = 'â–¶';
                        }
                    }
                }
            }
            
            // ===== å›¾ç‰‡é˜Ÿåˆ—ç®¡ç†æ–¹æ³• =====
            
            // æ·»åŠ æ–°å›¾ç‰‡åˆ°é˜Ÿåˆ—é¡¶éƒ¨
            async addImageToQueue(imageFile) {
                console.log('ğŸ–¼ï¸ å¼€å§‹æ·»åŠ æ–°å›¾ç‰‡åˆ°é˜Ÿåˆ—...');
                
                // åˆ›å»ºä¸´æ—¶åŠ è½½æç¤º
                this.showLoadingIndicator();
                
                try {
                    // 1. åˆ›å»ºæ–°çš„å›¾ç‰‡å…ƒç´ 
                    const newImage = document.createElement('img');
                    newImage.className = 'teleprompter-img new-image';
                    newImage.alt = 'æ–°å¯¼å…¥å›¾ç‰‡';
                    
                    // 2. è¯»å–æ–‡ä»¶ä¸ºDataURL
                    const dataUrl = await this.readFileAsDataURL(imageFile);
                    
                    // 3. ç­‰å¾…å›¾ç‰‡åŠ è½½å®Œæˆ
                    await new Promise((resolve, reject) => {
                        newImage.onload = () => {
                            console.log(`âœ… æ–°å›¾ç‰‡åŠ è½½æˆåŠŸ: ${newImage.naturalWidth}x${newImage.naturalHeight}`);
                            resolve();
                        };
                        newImage.onerror = () => {
                            console.error('âŒ æ–°å›¾ç‰‡åŠ è½½å¤±è´¥');
                            reject(new Error('å›¾ç‰‡åŠ è½½å¤±è´¥'));
                        };
                        newImage.src = dataUrl;
                    });
                    
                    // 4. æ’å…¥åˆ°é˜Ÿåˆ—é¡¶éƒ¨ï¼ˆDOMæ“ä½œï¼‰
                    this.insertImageAtTop(newImage, dataUrl);
                    
                    // 5. æ›´æ–°å°ºå¯¸å’Œæ»šåŠ¨ä½ç½®
                    this.updateAfterImageAdded(newImage);
                    
                    // 6. å¦‚æœæ­£åœ¨æ’­æ”¾ï¼Œç»§ç»­æ’­æ”¾
                    if (this.isPlaying) {
                        this.animateScroll();
                    }
                    
                    // 7. éšè—åŠ è½½æç¤º
                    this.hideLoadingIndicator();
                    
                    console.log('ğŸ‰ æ–°å›¾ç‰‡æˆåŠŸæ·»åŠ åˆ°é˜Ÿåˆ—é¡¶éƒ¨');
                    return true;
                    
                } catch (error) {
                    console.error('æ·»åŠ å›¾ç‰‡å¤±è´¥:', error);
                    this.hideLoadingIndicator();
                    this.showError('å›¾ç‰‡æ·»åŠ å¤±è´¥: ' + error.message);
                    return false;
                }
            }
            
            // è¯»å–æ–‡ä»¶ä¸ºDataURL
            readFileAsDataURL(file) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = (e) => resolve(e.target.result);
                    reader.onerror = () => reject(new Error('æ–‡ä»¶è¯»å–å¤±è´¥'));
                    reader.readAsDataURL(file);
                });
            }
            
            // å°†å›¾ç‰‡æ’å…¥åˆ°DOMé¡¶éƒ¨
            insertImageAtTop(newImage, dataUrl) {
                // åˆ›å»ºå›¾ç‰‡åŒ…è£…å™¨
                const imageWrapper = document.createElement('div');
                imageWrapper.className = 'image-item';
                imageWrapper.style.position = 'relative';
                imageWrapper.style.marginBottom = '0px';
                
                // æ·»åŠ å›¾ç‰‡
                imageWrapper.appendChild(newImage);
                
                // æ·»åŠ åˆ°é˜Ÿåˆ—æ•°ç»„
                this.imageQueue.unshift({
                    element: newImage,
                    src: dataUrl,
                    height: newImage.naturalHeight,
                    wrapper: imageWrapper
                });
                
                // é™åˆ¶é˜Ÿåˆ—é•¿åº¦
                if (this.imageQueue.length > this.options.maxQueueLength) {
                    this.removeOldestImage();
                }
                
                // æ’å…¥åˆ°DOM
                this.inner.insertBefore(imageWrapper, this.inner.firstChild);
                
                console.log(`ğŸ“Š é˜Ÿåˆ—æ›´æ–°: å½“å‰ ${this.imageQueue.length} å¼ å›¾ç‰‡`);
            }
            
            // ç§»é™¤æœ€æ—§çš„å›¾ç‰‡
            removeOldestImage() {
                if (this.imageQueue.length <= 1) return;
                
                const oldest = this.imageQueue.pop();
                if (oldest.wrapper && oldest.wrapper.parentNode) {
                    oldest.wrapper.parentNode.removeChild(oldest.wrapper);
                    console.log('ğŸ—‘ï¸ ç§»é™¤æœ€æ—§çš„å›¾ç‰‡');
                }
            }
            
            // æ·»åŠ å›¾ç‰‡åæ›´æ–°
            updateAfterImageAdded(newImage) {
                // æ›´æ–°å½“å‰å›¾ç‰‡å¼•ç”¨
                this.mainImage = newImage;
                
                // é‡æ–°è®¡ç®—å°ºå¯¸
                this.calculateDimensions();
                
                // æ·»åŠ æ–°çš„åº•éƒ¨å ä½
                this.addBottomSpacer();
                
                // é‡ç½®æ»šåŠ¨ä½ç½®åˆ°é¡¶éƒ¨ï¼ˆæ˜¾ç¤ºæ–°å›¾ç‰‡ï¼‰
                this.wrapper.scrollTop = 0;
            }
            
            // æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨
            showLoadingIndicator() {
                let loader = this.wrapper.querySelector('.image-loading');
                if (!loader) {
                    loader = document.createElement('div');
                    loader.className = 'image-loading';
                    loader.innerHTML = 'ğŸ”„ åŠ è½½ä¸­...';
                    loader.style.cssText = `
                        position: absolute;
                        top: 20px;
                        left: 50%;
                        transform: translateX(-50%);
                        background: rgba(0,0,0,0.8);
                        color: #ffd700;
                        padding: 10px 20px;
                        border-radius: 5px;
                        z-index: 100;
                    `;
                    this.wrapper.appendChild(loader);
                }
            }
            
            // éšè—åŠ è½½æŒ‡ç¤ºå™¨
            hideLoadingIndicator() {
                const loader = this.wrapper.querySelector('.image-loading');
                if (loader) {
                    loader.remove();
                }
            }
            
            // æ˜¾ç¤ºé”™è¯¯æç¤º
            showError(message) {
                const errorDiv = document.createElement('div');
                errorDiv.className = 'image-error';
                errorDiv.innerHTML = `âŒ ${message}`;
                errorDiv.style.cssText = `
                    position: absolute;
                    top: 20px;
                    left: 50%;
                    transform: translateX(-50%);
                    background: rgba(255,0,0,0.8);
                    color: white;
                    padding: 10px 20px;
                    border-radius: 5px;
                    z-index: 100;
                `;
                
                this.wrapper.appendChild(errorDiv);
                setTimeout(() => errorDiv.remove(), 3000);
            }
            
            // ===== äº‹ä»¶ç»‘å®šï¼ˆç§»é™¤è¿›åº¦æ¡ç›¸å…³äº‹ä»¶ï¼‰ =====
            bindEvents() {
                // ä¿æŒåŸæœ‰çš„äº‹ä»¶ç»‘å®šé€»è¾‘
                this.wrapper.addEventListener('click', (e) => {
                    if (this.isUserScrolling) {
                        this.isUserScrolling = false;
                        this.togglePlay();
                    } else {
                        this.togglePlay();
                    }
                });
                
                // ç›‘å¬ç”¨æˆ·æ‰‹åŠ¨æ»šåŠ¨
                let scrollTimeout;
                this.wrapper.addEventListener('scroll', () => {
                    // æ¸…é™¤ä¹‹å‰çš„è¶…æ—¶
                    if (scrollTimeout) clearTimeout(scrollTimeout);
                    
                    // å¦‚æœæ­£åœ¨è‡ªåŠ¨æ»šåŠ¨ï¼Œç”¨æˆ·å¼€å§‹æ‰‹åŠ¨æ»šåŠ¨æ—¶æš‚åœ
                    if (this.isPlaying && !this.isUserScrolling) {
                        this.isUserScrolling = true;
                        console.log('â¸ï¸ ç”¨æˆ·æ‰‹åŠ¨æ»šåŠ¨ï¼Œæš‚åœè‡ªåŠ¨æ»šåŠ¨');
                        this.pause();
                    }
                    
                    // è®¾ç½®è¶…æ—¶ï¼Œæ£€æµ‹æ»šåŠ¨æ˜¯å¦åœæ­¢
                    scrollTimeout = setTimeout(() => {
                        if (this.isUserScrolling) {
                            console.log('ğŸ”„ ç”¨æˆ·æ»šåŠ¨åœæ­¢');
                        }
                    }, 100);
                });
                
                // ç›‘å¬è§¦æ‘¸å¼€å§‹
                this.wrapper.addEventListener('touchstart', (e) => {
                    if (this.isPlaying && !this.isUserScrolling) {
                        this.isUserScrolling = true;
                        this.pause();
                    }
                });
            }
            
            togglePlay() {
                if (!this.hasStarted) {
                    this.hasStarted = true;
                    this.isPlaying = true;
                    console.log('â–¶ï¸ å¼€å§‹è‡ªåŠ¨æ»šåŠ¨');
                    this.animateScroll();
                } else {
                    this.isPlaying = !this.isPlaying;
                    console.log(this.isPlaying ? 'â–¶ï¸ æ¢å¤æ’­æ”¾' : 'â¸ï¸ æš‚åœæ’­æ”¾');
                    
                    if (this.isPlaying) {
                        this.animateScroll();
                    } else {
                        cancelAnimationFrame(this.scrollAnimationId);
                    }
                }
            }
            
            play() { 
                if (!this.hasStarted) this.hasStarted = true;
                this.isPlaying = true; 
                this.animateScroll();
            }
            
            pause() { 
                this.isPlaying = false; 
                cancelAnimationFrame(this.scrollAnimationId);
            }
            
            // è°ƒè¯•æ–¹æ³•
            enableDebug() {
                this.debugMode = true;
                console.log('ğŸ”§ è°ƒè¯•æ¨¡å¼å·²å¯ç”¨');
            }
            
            getStatus() {
                return {
                    isPlaying: this.isPlaying,
                    hasStarted: this.hasStarted,
                    isUserScrolling: this.isUserScrolling,
                    scrollTop: this.wrapper.scrollTop,
                    imageHeight: this.imageHeight,
                    containerHeight: this.containerHeight,
                    totalScrollableHeight: this.totalScrollableHeight,
                    queueLength: this.imageQueue.length
                };
            }
        }
        
        // ===== åŸæœ‰çš„é¡µé¢äº¤äº’åŠŸèƒ½ï¼ˆå®Œå…¨ä¸å˜ï¼‰ =====
        document.querySelector('.year-3d').addEventListener('mousemove', function(e) {
            const xAxis = (window.innerWidth / 2 - e.pageX) / 25;
            const yAxis = (window.innerHeight / 2 - e.pageY) / 25;
            
            this.style.transform = `rotateX(${15 + yAxis}deg) rotateY(${xAxis}deg)`;
        });
        
        document.querySelector('.year-3d').addEventListener('click', function() {
            this.style.animation = 'none';
            this.style.transform = 'rotateX(20deg) rotateY(20deg) scale(1.1)';
            
            setTimeout(() => {
                this.style.animation = 'float 6s ease-in-out infinite';
            }, 500);
        });
        
        // ===== åˆå§‹åŒ–é¡µé¢ =====
        document.addEventListener('DOMContentLoaded', function() {
            console.log('='.repeat(60));
            console.log('ğŸš€ é¡µé¢åŠ è½½å®Œæˆï¼Œå¼€å§‹åˆå§‹åŒ–...');
            console.log('='.repeat(60));
            
            // æ•°å­—é€ä¸ªå‡ºç°æ•ˆæœ
            const digits = document.querySelectorAll('.year-3d span');
            digits.forEach((digit, index) => {
                digit.style.opacity = '0';
                digit.style.transform = 'translateY(50px)';
                
                setTimeout(() => {
                    digit.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
                    digit.style.opacity = '1';
                    digit.style.transform = 'translateY(0)';
                }, index * 200);
            });
            
            // logoå›¾ç‰‡åŠ è½½åŠ¨ç”»
            const logoImg = document.querySelector('.logo img');
            if (logoImg) {
                logoImg.style.opacity = '0';
                logoImg.style.transform = 'translateY(30px)';
                
                setTimeout(() => {
                    logoImg.style.transition = 'opacity 1s ease, transform 1s ease';
                    logoImg.style.opacity = '1';
                    logoImg.style.transform = 'translateY(0)';
                }, 1000);
            }
            
            // åˆå§‹åŒ–åª’ä½“æ’­æ”¾å™¨
            updateProgress();
            
            // å»¶è¿Ÿåˆå§‹åŒ–teleprompteræ»šåŠ¨å™¨å’ŒæŒ‰é’®
            setTimeout(() => {
                console.log('\nğŸ“Š åˆå§‹åŒ–TeleprompterScrollerå’ŒåŠŸèƒ½æŒ‰é’®...');
                const teleprompterWrapper = document.querySelector('.teleprompter-wrapper');
                
                if (teleprompterWrapper) {
                    // åˆ›å»ºæ”¯æŒåŠ¨æ€é˜Ÿåˆ—çš„æ»šåŠ¨å™¨
                    const scroller = new TeleprompterScroller(teleprompterWrapper, {
                        scrollSpeed: 1.5,
                        autoPlay: false,
                        maxQueueLength: 10
                    });
                    
                    // ===== æŒ‰é’®æ§åˆ¶é€»è¾‘ =====
                    const scrollToggleBtn = document.getElementById('scrollToggleBtn');
                    const importImageBtn = document.getElementById('importImageBtn');
                    const uploadInput = document.getElementById('imageUploadInput');
                    
                    // æ’­æ”¾/æš‚åœæŒ‰é’®
                    if (scrollToggleBtn) {
                        scrollToggleBtn.addEventListener('click', function(e) {
                            e.stopPropagation();
                            scroller.togglePlay();
                            this.classList.toggle('active', scroller.isPlaying);
                            this.innerHTML = scroller.isPlaying ? 'â¸' : 'â–¶';
                        });
                    }
                    
                    // å¯¼å…¥å›¾ç‰‡æŒ‰é’®
                    if (importImageBtn && uploadInput) {
                        importImageBtn.addEventListener('click', function(e) {
                            e.stopPropagation();
                            uploadInput.click();
                        });
                        
                        // æ–‡ä»¶é€‰æ‹©å˜åŒ–äº‹ä»¶
                        uploadInput.addEventListener('change', function(e) {
                            const file = e.target.files[0];
                            if (!file) return;
                            
                            // éªŒè¯æ–‡ä»¶ç±»å‹
                            if (!file.type.match('image.*')) {
                                alert('è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶ï¼');
                                return;
                            }
                            
                            // éªŒè¯æ–‡ä»¶å¤§å°ï¼ˆé™åˆ¶5MBï¼‰
                            if (file.size > 5 * 1024 * 1024) {
                                alert('å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡5MBï¼');
                                return;
                            }
                            
                            console.log('ğŸ“ é€‰æ‹©çš„å›¾ç‰‡:', file.name, file.type, (file.size/1024).toFixed(1) + 'KB');
                            
                            // æ·»åŠ åˆ°æ»šåŠ¨é˜Ÿåˆ—
                            scroller.addImageToQueue(file)
                                .then(success => {
                                    if (success) {
                                        // è‡ªåŠ¨å¼€å§‹æ’­æ”¾
                                        if (!scroller.isPlaying) {
                                            scroller.play();
                                            if (scrollToggleBtn) {
                                                scrollToggleBtn.classList.add('active');
                                                scrollToggleBtn.innerHTML = 'â¸';
                                            }
                                        }
                                    }
                                });
                            
                            // æ¸…ç©ºinputï¼Œå…è®¸é‡å¤é€‰æ‹©åŒä¸€æ–‡ä»¶
                            uploadInput.value = '';
                        });
                    }
                    
                    // ä¿å­˜åˆ°å…¨å±€ï¼Œæ–¹ä¾¿è°ƒè¯•
                    window.teleprompterScroller = scroller;
                    
                    // æ·»åŠ èƒŒæ™¯å›¾ç‰‡ç®¡ç†å‡½æ•°åˆ°å…¨å±€
                    window.backgroundManager = {
                        setBackgroundImage,
                        removeBackgroundImage,
                        updateBackgroundStyles
                    };
                    
                    // æ·»åŠ è°ƒè¯•å‘½ä»¤
                    window.debugScroller = function() {
                        console.group('ğŸ” TeleprompterScroller çŠ¶æ€');
                        const status = scroller.getStatus();
                        console.table(status);
                        console.groupEnd();
                        return status;
                    };
                    
                    // æ·»åŠ æ§åˆ¶å‘½ä»¤
                    window.scrollerControls = {
                        play: () => {
                            scroller.play();
                            if (scrollToggleBtn) {
                                scrollToggleBtn.classList.add('active');
                                scrollToggleBtn.innerHTML = 'â¸';
                            }
                        },
                        pause: () => {
                            scroller.pause();
                            if (scrollToggleBtn) {
                                scrollToggleBtn.classList.remove('active');
                                scrollToggleBtn.innerHTML = 'â–¶';
                            }
                        },
                        toggle: () => {
                            scroller.togglePlay();
                            if (scrollToggleBtn) {
                                scrollToggleBtn.classList.toggle('active', scroller.isPlaying);
                                scrollToggleBtn.innerHTML = scroller.isPlaying ? 'â¸' : 'â–¶';
                            }
                        },
                        addImage: (file) => scroller.addImageToQueue(file),
                        getStatus: () => scroller.getStatus(),
                        enableDebug: () => scroller.enableDebug()
                    };
                    
                    console.log('\nğŸ® å¯ç”¨è°ƒè¯•å‘½ä»¤:');
                    console.log('   debugScroller()            - æŸ¥çœ‹æ»šåŠ¨å™¨çŠ¶æ€');
                    console.log('   scrollerControls.play()    - å¼€å§‹æ»šåŠ¨');
                    console.log('   scrollerControls.pause()   - æš‚åœæ»šåŠ¨');
                    console.log('   scrollerControls.toggle()  - åˆ‡æ¢æ’­æ”¾çŠ¶æ€');
                    console.log('   scrollerControls.addImage(file) - æ·»åŠ å›¾ç‰‡');
                    
                    console.log('\nğŸ¨ èƒŒæ™¯å›¾ç‰‡ç®¡ç†å‘½ä»¤:');
                    console.log('   backgroundManager.setBackgroundImage(url, styles) - è®¾ç½®èƒŒæ™¯');
                    console.log('   backgroundManager.removeBackgroundImage() - ç§»é™¤èƒŒæ™¯');
                    console.log('   backgroundManager.updateBackgroundStyles(styles) - æ›´æ–°æ ·å¼');
                    
                    console.log('\nğŸ’¡ ç”¨æˆ·äº¤äº’æç¤º:');
                    console.log('   1. ç‚¹å‡»â–¶/â¸æŒ‰é’®æ§åˆ¶æ»šåŠ¨æ’­æ”¾/æš‚åœ');
                    console.log('   2. ç‚¹å‡»ğŸ“¤æŒ‰é’®å¯¼å…¥æ–°å›¾ç‰‡åˆ°é˜Ÿåˆ—é¡¶éƒ¨');
                    console.log('   3. å¯ä»¥ç”¨æ‰‹æŒ‡/é¼ æ ‡ç›´æ¥æ‹–æ‹½æ»šåŠ¨å›¾ç‰‡');
                    console.log('   4. æ‹–æ‹½æ»šåŠ¨æ—¶ä¼šæš‚åœè‡ªåŠ¨æ»šåŠ¨ï¼Œéœ€è¦å†æ¬¡ç‚¹å‡»æ¢å¤');
                    console.log('   5. æœ€å¤šä¿ç•™10å¼ å›¾ç‰‡ï¼Œæ—§çš„ä¼šè‡ªåŠ¨ç§»é™¤');
                    console.log('   6. å›¾ç‰‡ä»é¡¶éƒ¨å¼€å§‹ï¼Œå®Œå…¨æ»šå‡ºå®¹å™¨æ—¶è‡ªåŠ¨åœæ­¢');
                    console.log('   7. è¿›åº¦æ¡åŠŸèƒ½å·²ç§»é™¤');
                    console.log('   8. èƒŒæ™¯å®¹å™¨å·²æ·»åŠ ï¼Œå¯é€šè¿‡ä»£ç è¡Œè®¾ç½®èƒŒæ™¯');
                    
                    console.log('\nâœ… TeleprompterScrolleråˆå§‹åŒ–å®Œæˆ');
                    console.log('ğŸ”„ æ»šåŠ¨é€»è¾‘ï¼šå›¾ç‰‡ä»é¡¶éƒ¨å¼€å§‹ï¼Œå®Œå…¨æ»šå‡ºå®¹å™¨æ—¶è‡ªåŠ¨åœæ­¢');
                    
                } else {
                    console.error('âŒ æ‰¾ä¸åˆ°teleprompter-wrapperå…ƒç´ ');
                }
            }, 2000);
        });
    </script>
</body>
</html>

